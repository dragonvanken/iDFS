// ç¼–è¯‘å‘½ä»¤ ï¼špython -m grpc_tools.protoc --python_out=. --grpc_python_out=. -I. MasterForData.proto
syntax = "proto3";

// è¿™æ˜¯æ§åˆ¶æœåŠ¡å™¨Masterä¸ºæ•°æ®æœåŠ¡å™¨Serveræä¾›çš„æœåŠ¡MFDçš„åè®®

service MFD{
    //æœåŠ¡ï¼šæ³¨å†Œæ•°æ®æœåŠ¡å™¨
    //è¯·æ±‚ï¼šIPã€ç«¯å£
    //è¿”å›ï¼šæ³¨å†Œç 
    rpc RegisteServer(socket) returns (Num) {}

    //æœåŠ¡ï¼šäºŒæ¬¡æäº¤
    //è¯·æ±‚ï¼šFIDã€CIDã€çŠ¶æ€ğŸ‡
    //è¿”å›ï¼šæ˜¯å¦æäº¤
    rpc Recommit(recommitRequest) returns (recommitResponse) {}
}

message Num{
    int32 id = 1;
}

message socket{
    string ip = 1;
    int32 port = 2;
}

message recommitRequest{
    int32 FID = 1;
    int32 CID = 2;
    int32 status = 3;
}

message recommitResponse{
    bool isCommit = 1;
}